var siteNameInput=document.getElementById("bookName"),siteURLInput=document.getElementById("bookURL"),submitBtn=document.getElementById("submitBtn"),closeBtn=document.getElementById("closePanelBtn"),validationDiv=document.getElementById("validateDiv"),nameRegEX=/^[a-zA-Z0-9]{3,8}$/,urlRegEX=/^(((http|https):\/\/)?(www\.))?[a-zA-Z0-9_]{2,256}\.[a-z]{2,6}$/,bookmarks=[];function loadBookMarks(){null!==localStorage.getItem("bookmarks")&&displayBookMarks(bookMarks=JSON.parse(localStorage.getItem("bookmarks")))}function checkValidatioin(t,e){!0==validate(t.value,e)?t.classList.replace("is-invalid","is-valid"):t.classList.contains("is-valid")?t.classList.replace("is-valid","is-invalid"):t.classList.add("is-invalid")}function addBookMark(){var t=siteURLInput.value;t.toLowerCase().startsWith("h")||(t="https://"+siteURLInput.value);var e={name:siteNameInput.value,url:t};checkFieldsNotNull()||checkBookEntered(e.name,e.url),siteNameInput.classList.contains("is-invalid")||siteURLInput.classList.contains("is-invalid")?validationDiv.style.display="block":(bookmarks.push(e),localStorage.setItem("bookmarks",JSON.stringify(bookmarks)),displayBookMarks(bookmarks),clearFields())}function clearFields(){siteNameInput.value=null,siteURLInput.value=null}function displayBookMarks(t){for(var e="",a=0;a<t.length;a++)e+=`
  <tr class="align-baseline">
    <th scope="row">${a+1}</th>
    <td class="align-items-center">${t[a].name}</td>
    <td>
    <a href="${t[a].url}" target="_blank" class="btn btn-primary submitBtn">
    Visit
    </a>
    </td>
    <td><button onclick ="deleteBookMark(${a});" class="btn btn-danger">Delete</button></td>
  </tr>`;document.getElementById("tableBody").innerHTML=e}function validate(t,e){return e.test(t)}function deleteBookMark(t){bookmarks.splice(t,1),localStorage.setItem("bookmarks",JSON.stringify(bookmarks)),displayBookMarks(bookmarks)}function checkBookEntered(t,e){if(null!==localStorage.getItem("bookmarks")){bookmarks=JSON.parse(localStorage.getItem("bookmarks"));for(var a=0;a<bookmarks.length;a++)bookmarks[a].name===t&&siteNameInput.classList.add("is-invalid")}}function checkFieldsNotNull(){return""==siteNameInput.value?(siteNameInput.classList.add("is-invalid"),!0):""==siteURLInput.value&&(siteURLInput.classList.add("is-invalid"),!0)}loadBookMarks(),closeBtn.addEventListener("click",function(t){validationDiv.style.display="none"}),submitBtn.addEventListener("click",function(t){t.stopPropagation(),addBookMark()}),siteNameInput.addEventListener("input",function(t){t.stopPropagation(),checkValidatioin(siteNameInput,nameRegEX)}),siteURLInput.addEventListener("input",function(t){t.stopPropagation(),checkValidatioin(siteURLInput,urlRegEX)});